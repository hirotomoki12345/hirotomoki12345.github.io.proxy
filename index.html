<!DOCTYPE html>
<html>
<head>
  <title>プロキシサイト</title>
</head>
<body>
  <h1>プロキシサイト</h1>
  <form>
    <input type="text" id="urlInput" placeholder="URLね">
    <button type="button" onclick="loadURL()">表示</button>
  </form>
  <div id="output"></div>

  <script>
    function loadURL() {
      const urlInput = document.getElementById("urlInput").value;
      const outputDiv = document.getElementById("output");

      if (urlInput.trim() === "") {
        outputDiv.textContent = "URLを入力してください";
        return;
      }

      // PHPプロキシサーバーのURL (proxy.phpへのパス)
      const proxyURL = "proxy.php?url=";

      // プロキシサーバーを経由して指定されたURLにアクセス
      fetch(proxyURL + encodeURIComponent(urlInput))
        .then(response => {
          if (!response.ok) {
            throw new Error("ネットワークエラーが発生しました");
          }
          return response.text();
        })
        .then(data => {
          // レスポンスを表示
          outputDiv.innerHTML = data;
        })
        .catch(error => {
          outputDiv.textContent = error.message;
        });
    }
  </script>
</body>
</html>
